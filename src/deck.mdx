import {
  Head,
  Header,
  Footer,
  Steps,
  Notes,
  // Layouts
  Default,
  Invert,
  Split,
  SplitRight,
  Horizontal,
  FullScreenCode,
} from "mdx-deck";
import { themes } from "mdx-deck";
export const theme = {
  ...themes.prism,
  ...myTheme,
};
import "tailwindcss/tailwind.css";
import "./styles/index.css";

import { CodeSurfer, CodeSurferColumns, Step as CodeStep } from "code-surfer";
import {
  nightOwl,
  duotoneDark,
  oceanicNext,
  shadsOfPurple,
  vsDark,
} from "@code-surfer/themes";

import MainContent from "./components/MainContent";
import Grid from "./components/Grid";
import BasicGrid from "./components/BasicGrid";
import GridItem from "./components/GridItem";
import Bullets from "./components/Bullets";
import IframeLoader from "./components/IframeLoader";
import CodeSandboxCharts from "./components/CodeSandboxCharts";
import myTheme from "./theme";
import colors, { colorMap } from "./styles/colors";

<Head>
  <title>React CrashCourse</title>
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@jxnblk" />
  <meta name="twitter:title" content="My Presentation" />
  <meta name="twitter:description" content="A really great presentation" />
  <meta name="twitter:image" content="https://example.com/card.png" />
</Head>
<Header className="Header">React CrashCourse</Header>
<Footer className="Footer">UX Forum (March 2021)- Craig Curtis</Footer>

<!-- PAGE 1 - intro-->

# React CrashCourse

<MainContent>
  <BasicGrid gridAutoFlow="column">
    <Steps>
      <div className="box box-badass p-2 text-center">
        <span>Classes</span>
      </div>
      <div className="box box-badass p-2 text-center">
        <span>Hooks</span>
      </div>
      <div className="box box-uranianBlue p-2 text-center">
        <span>Redux</span>
      </div>
      <div className="box box-uranianBlue p-2 text-center">
        <span>Context</span>
      </div>
      <div className="box box-sandyBrown p-2 text-center">
        <span>Gotchas, Q&A</span>
      </div>
      <div className="box box-sandyBrown p-2 text-center">
        <span>Activity</span>
      </div>
    </Steps>
  </BasicGrid>
</MainContent>

<Notes>

- React CrashCourse
- Go for the basics of React
- Not enough if just do one tutorial
- Need Classes for legacy projects and 3rd party plugins
- Understand Hooks for modern React
- Understand Redux for legacy, and as a state option
- Learn Context as a simpler Redux alternative - old and new
- Common Gotchas

</Notes>

---

<!-- PAGE 2 - React Components example with React + D3-->

# Components Example: React + D3

<CodeSandboxCharts />

<Notes>

- Made with Codesandbox - set up with Create React App
- Everything is a component
- New syntax - HTML in JS, possibly CSS in JS
- Entry point - public.html
- Entry point - index.js (bottom), usually App.js too
- .js, .jsx, .tsx
- Holy Grail layout - prevent header, sidebar flashing

</Notes>

---

<!-- Page 3 - Class-based React -->

# Class-based React

<MainContent>
  <BasicGrid gridAutoFlow="row">
    <Steps>
      <div className="box box-badass p-2 text-center">
        <span>Class structure</span>
      </div>
      <div className="box box-badass p-2 text-center">
        <span>JSX</span>
      </div>
      <div className="box box-badass p-2 text-center">
        <span>Props</span>
      </div>
      <div className="box box-badass p-2 text-center">
        <span>State</span>
      </div>
      <div className="box box-badass p-2 text-center">
        <span>Lifecycle Hooks</span>
      </div>
      <div className="box box-badass p-2 text-center">
        <span>refs</span>
      </div>
      <div className="box box-badass p-2 text-center">
        <span>HOCs</span>
      </div>
      <div className="box box-badass p-2 text-center">
        <span>Dumb components</span>
      </div>
      <div className="box box-badass p-2 text-center">
        <span>PropTypes, TypeScript</span>
      </div>
    </Steps>
  </BasicGrid>
</MainContent>

---

# Why Classes?

<MainContent>
  <BasicGrid columns={1}>
    <GridItem>Legacy Projects</GridItem>
    <GridItem>3rd Party Plugins</GridItem>
    <GridItem>Still Supported</GridItem>
  </BasicGrid>
</MainContent>

---

# React Class Structure

<CodeSurferColumns themes={[nightOwl,nightOwl]}>

<CodeStep>

```js showNumbers title="./src/App.js"
import React, { Component } from "react";
```

- Import React, Component

</CodeStep>

<CodeStep>

```js showNumbers title="./src/App.js"
import React, { Component } from "react";

class App extends Component {
  constructor(props) {
    super(props);
  }
}

export default App;
```

- Import React, Component
- Create class, add constructor

</CodeStep>

<CodeStep>

```js showNumbers title="./src/App.js"
import React, { Component } from "react";

class App extends Component {
  constructor(props) {
    super(props);
  }

  render() {
    return (
      <div className="App">
        <>
          <h1>My App</h1>
          {/* Comment add more components */}
        </>
      </div>
    );
  }
}

export default App;
```

- Import React, Component
- Create class, add constructor
- render the JSX (notice syntax)

</CodeStep>

<CodeStep>

```js showNumbers title="./src/App.js"
import React, { Component } from "react";

class App extends Component {
  constructor(props) {
    super(props);
  }

  render() {
    return (
      <div className="App">
        <>
          <h1>My App</h1>
          {/* Comment add more components */}
        </>
      </div>
    );
  }
}

export default App;
```

- Import React, Component
- Create class, add constructor
- render the JSX (notice syntax)
- This is setup in CRA, let's look at entry point

</CodeStep>

</CodeSurferColumns>

---

<!-- Page - Classes Entry Point -->

# React Entry Point

<IframeLoader
  src={`https://codesandbox.io/embed/relaxed-chatelet-nnxgj?autoresize=1&codemirror=1&fontsize=14&hidenavigation=1&theme=dark`}
  title={`Basic CRA Template`}
/>

- Notice App.js, slightly different syntax
- Dive into ./src/index.js, connecting to the DOM
- Dive into ./public/index.html, DOM id entry point at #root

---

# JSX

<CodeSurferColumns themes={[nightOwl,nightOwl]}>

<CodeStep>

```js showNumbers title="./src/Header.jsx" 4,11
import React, { Component } from "react";
import styles from "./Header.module.scss";

class Header extends Component {
  constructor(props) {
    super(props);
  }

  render() {
    return (
      <header className={`header ${styles.Header}`}>
        <span>My Title</span>
      </header>
    );
  }
}

export default Header;
```

- className vs. class

</CodeStep>

<CodeStep>

```js showNumbers title="./src/Header.jsx" 12:13
import React, { Component } from "react";
import styles from "./Header.module.scss";

class Header extends Component {
  constructor(props) {
    super(props);
  }

  render() {
    return (
      <header className={`header ${styles.Header}`}>
        <label htmlFor="myInput">Search:</label>
        <input id="myInput" type="text" />
      </header>
    );
  }
}

export default Header;
```

- className vs. class
- htmlFor vs. for

</CodeStep>

<CodeStep>

```js showNumbers title="./src/Header.jsx"
import React, { Component } from "react";
import styles from "./Header.module.scss";

class Header extends Component {
  constructor(props) {
    super(props);
  }

  handleChange(e) {
    console.log(e.target.value);
  }
  clear() {
    alert("cleared");
  }
  handlePlay() {...}

  render() {
    return (
      <header className={`header ${styles.Header}`}>
        <label htmlFor="myInput">Search:</label>
        <input
          id="myInput"
          type="text"
          onChange={(e) => this.handleChange(e)}
        />
        <button onClick={this.clear}>X</button>
        <video
          src={`...`}
          canplay={this.handlePlay}
        />
      </header>
    );
  }
}

export default Header;
```

- className vs. class
- htmlFor vs. for
- on events (check MDN events)

</CodeStep>

<CodeStep>

```js showNumbers title="./src/Header.jsx"
import React, { Component } from "react";
import styles from "./Header.module.scss";

class Header extends Component {
  constructor(props) {
    super(props);
  }

  handleChange(e) {
    console.log(e.target.value);
  }
  clear() {
    alert("cleared");
  }
  handlePlay() {...}

  render() {
    const results = [
      {id: 1, name: 'apple'},
      {id: 2, name: 'banana'},
    ];

    return (
      <header className={`header ${styles.Header}`}>
        <label htmlFor="myInput">Search:</label>
        <input
          id="myInput"
          type="text"
          onChange={(e) => this.handleChange(e)}
        />
        <button onClick={this.clear}>X</button>
        <video
          src={`...`}
          canplay={this.handlePlay}
        />
        <ul>
          {results.map( (result) => {
            return (
              <li key={result.id}>{result.name}</li>
            );
          })}
        </ul>
      </header>
    );
  }
}

export default Header;
```

- className vs. class
- htmlFor vs. for
- on events (check MDN events)
- mapping lists, keys

</CodeStep>

<CodeStep>

```js showNumbers title="./src/Header.jsx"
import React, { Component } from "react";
import styles from "./Header.module.scss";

class Header extends Component {
  constructor(props) {
    super(props);
  }

  handleChange(e) {
    console.log(e.target.value);
  }
  clear() {
    alert("cleared");
  }
  handlePlay() {...}

  render() {
    const results = [
      {id: 1, name: 'apple'},
      {id: 2, name: 'banana'},
    ];

    return (
      <header className={`header ${styles.Header}`}>
        <label htmlFor="myInput">Search:</label>
        <input
          id="myInput"
          type="text"
          onChange={(e) => this.handleChange(e)}
        />
        <button onClick={this.clear}>X</button>
        <video
          src={`...`}
          canplay={this.handlePlay}
        />
        <ul>
          {results.map( result => (
            <li key={result.id}>{result.name}</li>
          ))}
        </ul>
      </header>
    );
  }
}

export default Header;
```

- className vs. class
- htmlFor vs. for
- on events (check MDN events)
- mapping lists, keys
- refined syntax for maps

</CodeStep>

<CodeStep>

```js showNumbers title="./src/Header.jsx" 24:33
import React, { Component } from "react";
import styles from "./Header.module.scss";

class Header extends Component {
  constructor(props) {
    super(props);
  }

  handleChange(e) {
    console.log(e.target.value);
  }
  clear() {
    alert("cleared");
  }
  handlePlay() {...}

  render() {
    const results = [
      {id: 1, name: 'apple'},
      {id: 2, name: 'banana'},
    ];

    return (
      <>
        <header className={`header ${styles.Header}`}>
          ...
        </header>
        <video
          className={`${styles.Video}`}
          src={`...`}
          canplay={this.handlePlay}
        />
      </>
    );
  }
}

export default Header;
```

- className vs. class
- htmlFor vs. for
- on events (check MDN events)
- mapping lists, keys
- refined syntax for maps
- fragments - must be 1 parent wrapper element

</CodeStep>

<CodeStep>

```js showNumbers
import React, { Component } from "react";
import isEmpty from "lodash/isEmpty";
import styles from "./Header.module.scss";

class Header extends Component {
  render() {
    const { results, hasError } = this.props;

    return (
      <>
        {
          isEmpty(results) ? (
            <header>...</header>
          ) : (
            <video>...</video>
          );
        }
        {hasError ? (<Alert type="danger" />) : null}
        {hasSuccess && (<Alert type="success" />")}
      </>
    );
  }
}

export default Header;
```

- className vs. class
- htmlFor vs. for
- on events (check MDN events)
- mapping lists, keys
- refined syntax for maps
- fragments - must be 1 parent wrapper element
- ? () : (), &&, null

</CodeStep>

</CodeSurferColumns>

---

# Props

## What are props?

- Data Down - Data into components
- Events Up - Functions notifying parent components
- Dangers of Prop drilling
- Will tie to Life Cycles and Hooks

** This is a clearfix slide **

---

# Class Props

<CodeSurferColumns themes={[nightOwl,nightOwl]}>

<CodeStep>

```js showNumbers 9:12,16,22:37
import React, { Component } from "react";

class App extends Component {
  constructor(props) {
    super(props);
  }

  render() {
    const results = [
      { id: 1, name: "apple" },
      { id: 2, name: "banana" },
    ];

    return (
      <div>
        <Header title="My App" results={results} />
      </div>
    );
  }
}

class Header extends Component {
  constructor(props) {
    super(props);
  }

  render() {
    return (
      <>
        <header>{this.props.title}</header>
        {this.props.results.map((result) => (
          <p>{result.name}</p>
        ))}
      </>
    );
  }
}

export default App;
```

- data down (title, results)

</CodeStep>

<CodeStep>

```js showNumbers
import React, { Component } from "react";

class App extends Component {
  constructor(props) {
    super(props);
  }

  render() {
    const results = [
      { id: 1, name: "apple" },
      { id: 2, name: "banana" },
    ];

    return (
      <div>
        <Header title="My App" results={results} />
      </div>
    );
  }
}

class Header extends Component {
  constructor(props) {
    super(props);
  }

  render() {
    const { title, results } = this.props;

    return (
      <>
        <header>{title}</header>
        {results.map((result) => (
          <p>{result.name}</p>
        ))}
      </>
    );
  }
}

export default App;
```

- data down (title, results)
- refined destructuring

</CodeStep>

<CodeStep>

```js showNumbers
import React, { Component } from "react";

class App extends Component {
  handleItemClicked(id) {...}
  handleToggleMenu() {...}

  render() {
    ...
    return (
      <div>
        <Header
          ...
          onItemClicked={(id) => this.handleItemClicked(id)}
          onToggleMenu={() => this.handleToggleMenu()}
        />
      </div>
    );
  }
}

class Header extends Component {
  ...
  render() {
    const {
      ...
      onItemClicked,
      onToggleMenu
    } = this.props;

    return (
      <>
        <header>
          ...
          <button onClick={() => onToggleMenu()}>Menu</button>
        </header>
        {results.map((result) => (
          <p onClick={() => onItemClicked(result.id)}>{result.name}</p>
        ))}
      </>
    );
  }
}

export default App;
```

- data down (title, results)
- refined destructuring
- events up, (optional params)

</CodeStep>

<CodeStep>

```js showNumbers title="Prop Drilling"
  {/* App */}
  ...
  render() {
    return (
      <div className="App">
        <HeaderButton isMenuOpen{false} />
      </div>
    );
  }
  ...
  {/* Header */}
  ...
  render() {
    return (
      <header className="Header">
        <HeaderButton isMenuOpen{this.props.isMenuOpen} />
      </header>
    );
  }
  {/* Header Button */}
  ...
  render() {
    return (
      <button className="HeaderButton">
        <HeaderButtonIcon isMenuOpen{this.props.isMenuOpen} />
      </button>
    );
  }
  {/* Header Button Icon */}
  render() {
    return (
      <span className="HeaderButtonIcon">
        {this.props.isMenuOpen ? 'Open' : 'Closed'}
      </span>
    );
  }
```

- data down (title, results)
- refined destructuring
- events up, (optional params)
- Dangers of Prop Drilling (solved with Redux or Context)

</CodeStep>

</CodeSurferColumns>

---

# Class State

---

# Class Lifecycle Hooks

---

# Class refs

---

# Class HOCs - Higher Order Components

---

# Class Dumb Components

---

# Class PropTypes

---

# Class TypeScript

---

<!-- Page - React Hooks -->

# React Hooks

<MainContent>
  <BasicGrid gridAutoFlow="row">
    <Steps>
      <div className="box box-badass p-2 text-center">
        <span>Functional components</span>
      </div>
      <div className="box box-badass p-2 text-center">
        <span>useState</span>
      </div>
      <div className="box box-badass p-2 text-center">
        <span>useEffect</span>
      </div>
      <div className="box box-badass p-2 text-center">
        <span>useRef</span>
      </div>
      <div className="box box-badass p-2 text-center">
        <span>useMyHook</span>
      </div>
      <div className="box box-badass p-2 text-center">
        <span>Mini Redux - useContext, useReducer</span>
      </div>
    </Steps>
  </BasicGrid>
</MainContent>

---

# React Hooks Example

<IframeLoader
  src={`https://codesandbox.io/embed/framer-motion-2-animating-shared-layouts-1cpd0?fontsize=14&hidenavigation=1&theme=dark`}
  title={`Hooks example`}
/>

- useState, destructuring value and setter
- define functions before return
- !passingValue ? passInFn : (val) => myFn(val)

---

<!-- Page - Redux -->

# Redux

<MainContent maxWidth={"100%"}>
  <BasicGrid gridAutoFlow="row">
    <Steps>
      <div className="box box-uranianBlue p-2 text-center">
        <span>connect()</span>
      </div>
      <div className="box box-uranianBlue p-2 text-center">
        <span>mapStateToProps</span>
      </div>
      <div className="box box-uranianBlue p-2 text-center">
        <span>mapDispatchToProps</span>
      </div>
      <div className="box box-uranianBlue p-2 text-center">
        <span>Actions</span>
      </div>
      <div className="box box-uranianBlue p-2 text-center">
        <span>Thunks</span>
      </div>
      <div className="box box-uranianBlue p-2 text-center">
        <span>Redux Dev Tools</span>
      </div>
    </Steps>
  </BasicGrid>
</MainContent>

---

# Context - Mini Redux

<MainContent>
  <BasicGrid gridAutoFlow="row">
    <Steps>
      <div className="box box-uranianBlue p-2 text-center">
        <span>Class Context</span>
      </div>
      <div className="box box-uranianBlue p-2 text-center">
        <span>Hooks Context</span>
      </div>
      <div className="box box-uranianBlue p-2 text-center">
        <span>Mini Redux Context</span>
      </div>
    </Steps>
  </BasicGrid>
</MainContent>

---

# Class Context Example

<IframeLoader
  src={"https://d6jtdo9jhz4ae.cloudfront.net/"}
  title={"CCC Taft Guided Pathways"}
/>

---

# Gotchas, Q&A

<MainContent>
  <BasicGrid gridAutoFlow="row">
    <Steps>
      <div className="box box-sandyBrown p-2 text-center">
        <span>.map, key</span>
      </div>
      <div className="box box-sandyBrown p-2 text-center">
        <span>htmlFor</span>
      </div>
      <div className="box box-sandyBrown p-2 text-center">
        <span>props drilling</span>
      </div>
      <div className="box box-sandyBrown p-2 text-center">
        <span>Mini Redux Context</span>
      </div>
    </Steps>
  </BasicGrid>
</MainContent>

---

# Activity - gather.town

<Split>

<div>
  <video autoPlay controls style={{ width: "100%", height: "100%" }}>
    <source
      src={`https://gather.town/images/site/landing_demo.mp4`}
      type="video/mp4"
    />
  </video>
</div>

<div>
  <p>
    Room:{" "}
    <a
      href="https://gather.town/app/IxOEh5iBhXwxdTWg/ux-forum-react"
      target="_blank"
    >
      Gather.town ux-forum-react
    </a>
  </p>
  <p>Password: uxforumreact</p>
</div>

</Split>

<Notes>

- Class, Hooks, Redux, Context
- Volunteers, find a space
- 2 minutes per Room
- Last 2 minutes, free-for-all, see what happens
- End - meet in Conference Room

</Notes>

---

# Fin

<MainContent>
  <BasicGrid columns={1}>
    <GridItem className="box box-badass p-2 text-center">Questions?</GridItem>
  </BasicGrid>
</MainContent>
